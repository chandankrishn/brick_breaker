{"version":3,"sources":["file:///Users/chandankrishnani/CocosPractice/Brick_breaker/assets/scripts/Mainscript.ts"],"names":["_decorator","Component","Button","tween","Vec3","Prefab","instantiate","UITransform","Sprite","systemEvent","SystemEvent","SpriteFrame","ccclass","property","Mainscript","coliderpatter","height","width","tile_width","i","j","temp_bricks","brick","node","addChild","setPosition","buttonpressed","Play_button","to","scale","delay","start","gamePlayStart","bouncer","Breaker","redball","ball","getComponent","base","position","right","left","top","touchMove","event","current","getLocation","x","console","log","onLoad","on","EventType","TOUCH_MOVE"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Button, tween, Vec2, Vec3, Prefab, instantiate, UITransform, Sprite, systemEvent, SystemEvent, KeyCode, SpriteFrame } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = Mainscript\r\n * DateTime = Wed Sep 22 2021 10:24:04 GMT+0530 (India Standard Time)\r\n * Author = chandan_krishnani\r\n * FileBasename = Mainscript.ts\r\n * FileBasenameNoExtension = Mainscript\r\n * URL = db://assets/scripts/Mainscript.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\n \r\n@ccclass('Mainscript')\r\nexport class Mainscript extends Component {\r\n    // [1]\r\n    // dummy = '';\r\n@property(Button)\r\nPlay_button:any;\r\n@property(Prefab)\r\nBreaker:any;\r\n@property(Sprite)\r\nbase:any;\r\n@property(Sprite)\r\nleft:any;\r\n@property(Sprite)\r\nright:any;\r\n@property(Sprite)\r\ntop:any;\r\n@property(Prefab)\r\nball:any;\r\n@property(Prefab)\r\nbrick:any;\r\n@property(SpriteFrame)\r\nbricks=[];\r\n@property(SpriteFrame)\r\ndamagedbricks=[];\r\nredball:any;\r\nbouncer:any;\r\nheight:number;\r\nwidth:number;\r\ntemp_bricks:any;\r\n\r\n    // [2]\r\n    // @property\r\n    // serializableDummy = 0;\r\ncoliderpatter()\r\n{\r\n    let height:number=(this.height/2)-70;\r\n    let width:number=-(this.width/2)+100;\r\n    let tile_width:number=150;\r\n    \r\n    \r\n\r\n\r\n    for(var i=0;i<=5;i++)\r\n    {\r\n        for(var j=5;j>i;j--)\r\n        {\r\n         this.temp_bricks=instantiate(this.brick);\r\n         this.node.addChild(this.temp_bricks);\r\n         this.temp_bricks.setPosition(width,height,0);\r\n         width=width+tile_width;\r\n\r\n\r\n        }\r\n        width=width-(tile_width*4-i);\r\n        height=height-60;\r\n    }\r\n    \r\n\r\n\r\n\r\n}\r\n buttonpressed()\r\n {\r\n    tween(this.Play_button.node)\r\n    .to(0.2,{scale : new Vec3(2,2,2)})\r\n    .delay(0.1)\r\n    .to(0.2,{scale :new Vec3(1,1,1)})\r\n    .delay(0.3)\r\n    .to(0.2,{scale :new Vec3(0,0,0)})\r\n    .start();\r\n    this.gamePlayStart();\r\n    this.coliderpatter();\r\n }\r\n\r\n gamePlayStart()\r\n {\r\n\r\n     this.bouncer=instantiate(this.Breaker);\r\n     this.node.addChild(this.bouncer);\r\n     this.redball=instantiate(this.ball);\r\n     this.node.addChild(this.redball);\r\n     this.height=this.node.getComponent(UITransform).height;\r\n     this.width=this.node.getComponent(UITransform).width;\r\n     this.bouncer.setPosition(0,-(this.height/2)+100,0);\r\n     tween(this.base.node)\r\n     .to(0.5,{position : new Vec3(0,-(this.height/2),0)})\r\n     .start();\r\n\r\n     tween(this.right.node)\r\n     .to(0.5,{position : new Vec3((this.width/2),0,0)})\r\n     .start();\r\n\r\n     tween(this.left.node)\r\n     .to(0.5,{position : new Vec3(-(this.width/2),0,0)})\r\n     .start();\r\n\r\n     tween(this.top.node)\r\n     .to(0.5,{position : new Vec3(0,(this.height/2),0)})\r\n     .start();\r\n\r\n\r\n     \r\n }\r\n    start () \r\n    {\r\n\r\n       \r\n\r\n        // [3]\r\n    }\r\n//     mouseMove(event:any)\r\n//     {\r\n//         if(this.bouncer.position.x<this.width/2-70 && this.bouncer.position.x+130 >-(this.width/2)+70)\r\n//         {\r\n//         switch(event.keyCode)\r\n//         {\r\n           \r\n//         case KeyCode.ARROW_LEFT:\r\n       \r\n//             tween(this.bouncer)\r\n//             .by(0.1,{position : new Vec3(-30,0,0)})\r\n//            .start();\r\n//            break;\r\n            \r\n            \r\n          \r\n//         case KeyCode.ARROW_RIGHT:\r\n//             console.log(\"Arrow right key\");\r\n           \r\n//             tween(this.bouncer)\r\n//             .by(0.1,{position : new Vec3(30,0,0)})\r\n//             .start();\r\n//             break;\r\n\r\n//         }\r\n//     }\r\n//     else\r\n//     {\r\n//         if(this.bouncer.position.x<this.width/2+70)\r\n//         {\r\n//             switch(event.keyCode)\r\n//             {\r\n//                 case KeyCode.ARROW_RIGHT:\r\n//                 console.log(\"Arrow right key\");\r\n               \r\n//                 tween(this.bouncer)\r\n//                 .by(0.1,{position : new Vec3(30,0,0)})\r\n//                 .start();\r\n//                 break;\r\n//             }\r\n           \r\n//     }\r\n//     else\r\n//     {\r\n       \r\n//         switch(event.keyCode)\r\n//         {\r\n           \r\n//         case KeyCode.ARROW_LEFT:\r\n       \r\n//             tween(this.bouncer)\r\n//             .by(0.1,{position : new Vec3(-30,0,0)})\r\n//            .start();\r\n//            break;\r\n\r\n//     }\r\n\r\n//     }\r\n\r\n//     }\r\n// }\r\n    touchMove(event:any)\r\n    {\r\n        let current:number;\r\n        if(event.getLocation().x>(this.width/2))\r\n        {\r\n            current=event.getLocation().x-this.width/2;\r\n        }\r\n        \r\n        else\r\n        {\r\n            current=-((this.width/2)-event.getLocation().x);\r\n        }\r\n        console.log(current);\r\n        if(current<this.width/2-70 && current>-(this.width/2)+70)\r\n        {\r\n        this.bouncer.setPosition(current,-(this.height/2)+100,0);\r\n        }\r\n    }\r\n\r\n    onLoad()\r\n    {\r\n        // systemEvent.on(SystemEvent.EventType.KEY_DOWN,this.mouseMove,this);\r\n        systemEvent.on(SystemEvent.EventType.TOUCH_MOVE,this.touchMove,this);\r\n\r\n    }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}